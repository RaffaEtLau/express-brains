<%- include('partials/header', { title: 'Jouer' }) %>

<main>
  <div class="card">
    <div class="card-icon">
      <div class="card-icon-inner">
        <svg viewBox="0 0 100 100" width="100" height="100">
          <rect
            x="10"
            y="10"
            width="80"
            height="80"
            rx="15"
            fill="#4a6fa5"
            transform="rotate(45 50 50)"
          />
          <text
            x="50"
            y="65"
            font-size="60"
            text-anchor="middle"
            fill="white"
            style="font-family: Arial, sans-serif; font-weight: bold"
          >
            ?
          </text>
        </svg>
      </div>
    </div>

    <h2>Qui suis-je ?</h2>
    <p>Quel nombre se cache derrière cette carte mystère ?</p>

    <form action="/game/guess" method="POST" class="guess-form">
      <div class="form-group">
        <div class="input-wrapper">
          <input
            type="number"
            name="guess"
            min="1"
            max="100"
            required
            placeholder="Votre réponse"
            autofocus
          />
        </div>
      </div>
      <button type="submit" class="btn">
        <i class="fas fa-search" style="margin-right: 0.5rem"></i> J'ai trouvé !
      </button>
    </form>

    <% if (message) { %>
    <div class="alert alert-<%= status %>">
      <i
        class="<%= status === 'low' ? 'fas fa-arrow-up' : (status === 'high' ? 'fas fa-arrow-down' : 'fas fa-exclamation-circle') %>"
        style="margin-right: 0.5rem"
      ></i>
      <%= message %>
    </div>
    <% } %>

    <div class="attempts">
      <i class="fas fa-history" style="margin-right: 0.5rem"></i>
      Tentatives : <%= attempts %>
    </div>
  </div>

  <div class="card">
    <h3>Conseils pour trouver plus rapidement</h3>
    <div style="text-align: left; margin-top: 1rem">
      <p>
        <i
          class="fas fa-check-circle"
          style="color: var(--accent-color); margin-right: 0.5rem"
        ></i>
        Utilisez la <strong>recherche binaire</strong> : commencez par 50, puis
        éliminez la moitié des possibilités à chaque essai.
      </p>
      <p>
        <i
          class="fas fa-check-circle"
          style="color: var(--accent-color); margin-right: 0.5rem"
        ></i>
        Suivez les indications "trop haut" ou "trop bas" pour affiner votre
        recherche.
      </p>
      <p>
        <i
          class="fas fa-check-circle"
          style="color: var(--accent-color); margin-right: 0.5rem"
        ></i>
        Un bon joueur peut trouver le nombre en 7 essais maximum !
      </p>
      <p>
        <i
          class="fas fa-check-circle"
          style="color: var(--accent-color); margin-right: 0.5rem"
        ></i>
        N'oubliez pas que le nombre est compris entre 1 et 100 inclus.
      </p>
    </div>

    <div style="margin-top: 2rem">
      <p>
        Vous bloquez ? Vous pouvez toujours
        <a href="/game/play" style="color: var(--primary-color)"
          >recommencer une nouvelle partie</a
        >.
      </p>
    </div>
  </div>
</main>

<%- include('partials/footer') %>
